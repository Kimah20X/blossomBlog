<div class="container">
    <article class="post-detail">
        <header class="post-header">
            <div class="post-meta">
                <span class="post-category"><%= post.category %></span>
            </div>
            
            <h1 class="post-title"><%= post.title %></h1>
            
            <div class="post-author-info">
                <div class="author-avatar">
                    <img src="<%= post.author.avatarUrl %>" alt="<%= post.author.name %>">
                </div>
                <div class="author-details">
                    <span class="author-name"><%= post.author.name %></span>
                    <span class="post-date">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                        <%= post.formattedDate %>
                    </span>
                </div>
            </div>
        </header>

        <div class="post-image">
            <img src="<%= post.imageUrl %>" alt="<%= post.title %>">
        </div>

        <div class="post-content">
            <div class="post-text">
                <%- post.content.replace(/\n/g, '</p><p>') %>
            </div>
            
            <% if (post.tags && post.tags.length > 0) { %>
                <div class="post-tags">
                    <% post.tags.forEach(tag => { %>
                        <span class="tag"><%= tag %></span>
                    <% }) %>
                </div>
            <% } %>
        </div>

        <div class="post-actions">
            <button class="like-btn" onclick="likePost('<%= post.slug %>')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
                <span id="like-count"><%= post.likes %></span> Likes
            </button>
            
            <button class="share-btn" onclick="sharePost()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="18" cy="5" r="3"/>
                    <circle cx="6" cy="12" r="3"/>
                    <circle cx="18" cy="19" r="3"/>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                </svg>
                Share
            </button>
        </div>
    </article>

    <% if (recommendedPosts && recommendedPosts.length > 0) { %>
        <section class="recommended-posts">
            <h2 class="section-title">Recommended For You</h2>
            <div class="posts-grid">
                <% recommendedPosts.forEach(post => { %>
                    <%- include('partials/post-card', { post: post }) %>
                <% }) %>
            </div>
        </section>
    <% } %>
</div>